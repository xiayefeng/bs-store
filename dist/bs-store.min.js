var bsStore=function(e,t){"use strict";var o;!function(e){e[e.session=1]="session",e[e.local=2]="local",e[e.all=3]="all"}(o||(o={}));var s=new(function(){function e(){this.compress=!1,this.version=t.version,this.compressPlugin={}}return e.prototype.use=function(e){e.isCompress&&(this.compress=!0,this.compressPlugin=e.plugin)},e.prototype.getSession=function(e){if("string"!=typeof e)throw new Error("params must be string");var t=this.getItem(e);return null===t?(console.log("no exist such "+e+" sessionStorage"),null):this.getValue(t)},e.prototype.getValue=function(e){try{var t=JSON.parse(e);return t=this.checkStr(t),t=this.checkNaN(t),t=this.checkBigInt(t)}catch(t){return e}},e.prototype.getLocal=function(e){if("string"!=typeof e)throw new Error("params must be string");var t=this.getItem(e,o.local);return null===t?(console.log("no exist such "+e+" çš„localStorage"),null):this.getValue(t)},e.prototype.setSession=function(e,t){this.setItem(e,t)},e.prototype.setLocal=function(e,t){this.setItem(e,t,o.local)},e.prototype.removeSession=function(e){this.removeItem(e)},e.prototype.removeLocal=function(e){this.removeItem(e,o.local)},e.prototype.removeAllSession=function(){this.removeAll()},e.prototype.removeAllLocal=function(){this.removeAll(o.local)},e.prototype.removeAllStorage=function(){this.removeAll(o.all)},e.prototype.getItem=function(e,t){void 0===t&&(t=o.session);var s=null;return t===o.session?s=sessionStorage.getItem(e):t===o.local&&(s=localStorage.getItem(e)),null===s||this.compress&&(s=this.compressPlugin.decompress?this.compressPlugin.decompress(s):null),s},e.prototype.setItem=function(e,t,s){if(void 0===s&&(s=o.session),"string"!=typeof e)throw new Error("Items key params must be string");if(void 0===t)throw new Error("set value is not defind");if("symbol"==typeof t)throw new Error("value is not support symbol");"object"==typeof t?t=JSON.stringify(t):"string"==typeof t?t=JSON.stringify({str:t,isString2Object:!0}):Number.isNaN(t)?t=JSON.stringify({num:null,isNaN2Object:!0}):"bigint"==typeof t&&(t=JSON.stringify({num:String(t),isBigInt2Object:!0})),this.compress&&(t=this.compressPlugin.compress?this.compressPlugin.compress(String(t)):null),s===o.session?sessionStorage.setItem(e,t):localStorage.setItem(e,t)},e.prototype.removeItem=function(e,t){if(void 0===t&&(t=o.session),"string"!=typeof e)throw new Error("Items key params must be string");t===o.session&&null!=sessionStorage.getItem(e)?sessionStorage.removeItem(e):t===o.local&&null!=localStorage.getItem(e)&&localStorage.removeItem(e)},e.prototype.removeAll=function(e){if(void 0===e&&(e=o.session),e===o.session)sessionStorage.clear();else if(e===o.local)localStorage.clear();else{if(e!==o.all)throw new Error("param error, param must be one of 1,2,3");sessionStorage.clear(),localStorage.clear()}},e.prototype.checkStr=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isString2Object")&&t.isString2Object&&(t=t.str),t},e.prototype.checkNaN=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isNaN2Object")&&(t=NaN),t},e.prototype.checkBigInt=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isBigInt2Object")&&(t=BigInt(t.num)),t},e.prototype.checkedType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e}());return e.default=s,e.getLocalSize=function(){for(var e=0,t=0,o=Reflect.ownKeys(localStorage);t<o.length;t++){var s=o[t];e+=localStorage.getItem(s).length}return console.log("localStorage used "+(e/1024).toFixed(2)+"kb"),e},e.getSessionSize=function(){for(var e=0,t=0,o=Reflect.ownKeys(sessionStorage);t<o.length;t++){var s=o[t];e+=sessionStorage.getItem(s).length}return console.log("sessionStorage used "+(e/1024).toFixed(2)+"kb"),e},Object.defineProperty(e,"__esModule",{value:!0}),e}({},package_json);
