!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bsStore={})}(this,(function(e){"use strict";var t;!function(e){e[e.session=1]="session",e[e.local=2]="local",e[e.all=3]="all"}(t||(t={}));var o=new(function(){function e(){this.compress=!1,this.version="2.0.8",this.compressPlugin={}}return e.prototype.use=function(e){e.isCompress&&(this.compress=!0,this.compressPlugin=e.plugin)},e.prototype.getSession=function(e){if("string"!=typeof e)throw new Error("params must be string");var t=this.getItem(e);return null===t?(console.warn("no exist such "+e+" sessionStorage"),null):this.getValue(t)},e.prototype.getValue=function(e){try{var t=JSON.parse(e);return t=this.checkStr(t),t=this.checkNaN(t),t=this.checkBigInt(t)}catch(t){return e}},e.prototype.getLocal=function(e){if("string"!=typeof e)throw new Error("params must be string");var o=this.getItem(e,t.local);return null===o?(console.warn("no exist such "+e+" çš„localStorage"),null):this.getValue(o)},e.prototype.setSession=function(e,t){this.setItem(e,t)},e.prototype.setLocal=function(e,o){this.setItem(e,o,t.local)},e.prototype.removeSession=function(e){this.removeItem(e)},e.prototype.removeLocal=function(e){this.removeItem(e,t.local)},e.prototype.removeAllSession=function(){this.removeAll()},e.prototype.removeAllLocal=function(){this.removeAll(t.local)},e.prototype.removeAllStorage=function(){this.removeAll(t.all)},e.prototype.getItem=function(e,o){void 0===o&&(o=t.session);var s=null;return o===t.session?s=sessionStorage.getItem(e):o===t.local&&(s=localStorage.getItem(e)),null===s||this.compress&&(s=this.compressPlugin.decompress(s)),s},e.prototype.setItem=function(e,o,s){if(void 0===s&&(s=t.session),"string"!=typeof e)throw new Error("Items key params must be string");if(void 0===o)throw new Error("set value is not defind");if("symbol"==typeof o)throw new Error("value is not support symbol");"object"==typeof o?o=JSON.stringify(o):"string"==typeof o?o=JSON.stringify({str:o,isString2Object:!0}):Number.isNaN(o)?o=JSON.stringify({num:null,isNaN2Object:!0}):"bigint"==typeof o&&(o=JSON.stringify({num:String(o),isBigInt2Object:!0})),this.compress&&(o=this.compressPlugin.compress(String(o))),s===t.session?sessionStorage.setItem(e,o):localStorage.setItem(e,o)},e.prototype.removeItem=function(e,o){if(void 0===o&&(o=t.session),"string"!=typeof e)throw new Error("Items key params must be string");o===t.session&&null!=sessionStorage.getItem(e)?sessionStorage.removeItem(e):o===t.local&&null!=localStorage.getItem(e)&&localStorage.removeItem(e)},e.prototype.removeAll=function(e){if(void 0===e&&(e=t.session),e===t.session)sessionStorage.clear();else if(e===t.local)localStorage.clear();else{if(e!==t.all)throw new Error("param error, param must be one of 1,2,3");sessionStorage.clear(),localStorage.clear()}},e.prototype.checkStr=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isString2Object")&&t.isString2Object&&(t=t.str),t},e.prototype.checkNaN=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isNaN2Object")&&(t=NaN),t},e.prototype.checkBigInt=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isBigInt2Object")&&(t=BigInt(t.num)),t},e.prototype.checkedType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},e}());e.default=o,e.getLocalSize=function(){for(var e=0,t=0,o=Reflect.ownKeys(localStorage);t<o.length;t++){var s=o[t];e+=localStorage.getItem(s).length}return e},e.getSessionSize=function(){for(var e=0,t=0,o=Reflect.ownKeys(sessionStorage);t<o.length;t++){var s=o[t];e+=sessionStorage.getItem(s).length}return e},Object.defineProperty(e,"__esModule",{value:!0})}));
