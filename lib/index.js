var e;function t(){for(var e=0,t=0,o=Reflect.ownKeys(sessionStorage);t<o.length;t++){var s=o[t];e+=sessionStorage.getItem(s).length}return e}function o(){for(var e=0,t=0,o=Reflect.ownKeys(localStorage);t<o.length;t++){var s=o[t];e+=localStorage.getItem(s).length}return e}!function(e){e[e.session=1]="session",e[e.local=2]="local",e[e.all=3]="all"}(e||(e={}));var s=new(function(){function t(){this.compress=!1,this.version="2.0.8",this.compressPlugin={}}return t.prototype.use=function(e){e.isCompress&&(this.compress=!0,this.compressPlugin=e.plugin)},t.prototype.getSession=function(e){if("string"!=typeof e)throw new Error("params must be string");var t=this.getItem(e);return null===t?(console.warn("no exist such "+e+" sessionStorage"),null):this.getValue(t)},t.prototype.getValue=function(e){try{var t=JSON.parse(e);return t=this.checkStr(t),t=this.checkNaN(t),t=this.checkBigInt(t)}catch(t){return e}},t.prototype.getLocal=function(t){if("string"!=typeof t)throw new Error("params must be string");var o=this.getItem(t,e.local);return null===o?(console.warn("no exist such "+t+" çš„localStorage"),null):this.getValue(o)},t.prototype.setSession=function(e,t){this.setItem(e,t)},t.prototype.setLocal=function(t,o){this.setItem(t,o,e.local)},t.prototype.removeSession=function(e){this.removeItem(e)},t.prototype.removeLocal=function(t){this.removeItem(t,e.local)},t.prototype.removeAllSession=function(){this.removeAll()},t.prototype.removeAllLocal=function(){this.removeAll(e.local)},t.prototype.removeAllStorage=function(){this.removeAll(e.all)},t.prototype.getItem=function(t,o){void 0===o&&(o=e.session);var s=null;return o===e.session?s=sessionStorage.getItem(t):o===e.local&&(s=localStorage.getItem(t)),null===s||this.compress&&(s=this.compressPlugin.decompress(s)),s},t.prototype.setItem=function(t,o,s){if(void 0===s&&(s=e.session),"string"!=typeof t)throw new Error("Items key params must be string");if(void 0===o)throw new Error("set value is not defind");if("symbol"==typeof o)throw new Error("value is not support symbol");"object"==typeof o?o=JSON.stringify(o):"string"==typeof o?o=JSON.stringify({str:o,isString2Object:!0}):Number.isNaN(o)?o=JSON.stringify({num:null,isNaN2Object:!0}):"bigint"==typeof o&&(o=JSON.stringify({num:String(o),isBigInt2Object:!0})),this.compress&&(o=this.compressPlugin.compress(String(o))),s===e.session?sessionStorage.setItem(t,o):localStorage.setItem(t,o)},t.prototype.removeItem=function(t,o){if(void 0===o&&(o=e.session),"string"!=typeof t)throw new Error("Items key params must be string");o===e.session&&null!=sessionStorage.getItem(t)?sessionStorage.removeItem(t):o===e.local&&null!=localStorage.getItem(t)&&localStorage.removeItem(t)},t.prototype.removeAll=function(t){if(void 0===t&&(t=e.session),t===e.session)sessionStorage.clear();else if(t===e.local)localStorage.clear();else{if(t!==e.all)throw new Error("param error, param must be one of 1,2,3");sessionStorage.clear(),localStorage.clear()}},t.prototype.checkStr=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isString2Object")&&t.isString2Object&&(t=t.str),t},t.prototype.checkNaN=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isNaN2Object")&&(t=NaN),t},t.prototype.checkBigInt=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isBigInt2Object")&&(t=BigInt(t.num)),t},t.prototype.checkedType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t}());export{s as default,o as getLocalSize,t as getSessionSize};
