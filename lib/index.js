var e=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function n(e,t){if(!r[e]){r[e]={};for(var o=0;o<e.length;o++)r[e][e.charAt(o)]=o}return r[e][t]}var s={compressToBase64:function(e){if(null==e)return"";var o=s._compress(e,6,(function(e){return t.charAt(e)}));switch(o.length%4){default:case 0:return o;case 1:return o+"===";case 2:return o+"==";case 3:return o+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:s._decompress(e.length,32,(function(o){return n(t,e.charAt(o))}))},compressToUTF16:function(t){return null==t?"":s._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:s._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=s.compress(e),o=new Uint8Array(2*t.length),r=0,n=t.length;r<n;r++){var i=t.charCodeAt(r);o[2*r]=i>>>8,o[2*r+1]=i%256}return o},decompressFromUint8Array:function(t){if(null==t)return s.decompress(t);for(var o=new Array(t.length/2),r=0,n=o.length;r<n;r++)o[r]=256*t[2*r]+t[2*r+1];var i=[];return o.forEach((function(t){i.push(e(t))})),s.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,(function(e){return o.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),s._decompress(e.length,32,(function(t){return n(o,e.charAt(t))})))},compress:function(t){return s._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,o){if(null==e)return"";var r,n,s,i={},c={},a="",p="",l="",u=2,f=3,h=2,m=[],g=0,v=0;for(s=0;s<e.length;s+=1)if(a=e.charAt(s),Object.prototype.hasOwnProperty.call(i,a)||(i[a]=f++,c[a]=!0),p=l+a,Object.prototype.hasOwnProperty.call(i,p))l=p;else{if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)g<<=1,v==t-1?(v=0,m.push(o(g)),g=0):v++;for(n=l.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1}else{for(n=1,r=0;r<h;r++)g=g<<1|n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n=0;for(n=l.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1}0==--u&&(u=Math.pow(2,h),h++),delete c[l]}else for(n=i[l],r=0;r<h;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1;0==--u&&(u=Math.pow(2,h),h++),i[p]=f++,l=String(a)}if(""!==l){if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(r=0;r<h;r++)g<<=1,v==t-1?(v=0,m.push(o(g)),g=0):v++;for(n=l.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1}else{for(n=1,r=0;r<h;r++)g=g<<1|n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n=0;for(n=l.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1}0==--u&&(u=Math.pow(2,h),h++),delete c[l]}else for(n=i[l],r=0;r<h;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1;0==--u&&(u=Math.pow(2,h),h++)}for(n=2,r=0;r<h;r++)g=g<<1|1&n,v==t-1?(v=0,m.push(o(g)),g=0):v++,n>>=1;for(;;){if(g<<=1,v==t-1){m.push(o(g));break}v++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:s._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,o,r){var n,s,i,c,a,p,l,u=[],f=4,h=4,m=3,g="",v=[],y={val:r(0),position:o,index:1};for(n=0;n<3;n+=1)u[n]=n;for(i=0,a=Math.pow(2,2),p=1;p!=a;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=r(y.index++)),i|=(c>0?1:0)*p,p<<=1;switch(i){case 0:for(i=0,a=Math.pow(2,8),p=1;p!=a;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=r(y.index++)),i|=(c>0?1:0)*p,p<<=1;l=e(i);break;case 1:for(i=0,a=Math.pow(2,16),p=1;p!=a;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=r(y.index++)),i|=(c>0?1:0)*p,p<<=1;l=e(i);break;case 2:return""}for(u[3]=l,s=l,v.push(l);;){if(y.index>t)return"";for(i=0,a=Math.pow(2,m),p=1;p!=a;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=r(y.index++)),i|=(c>0?1:0)*p,p<<=1;switch(l=i){case 0:for(i=0,a=Math.pow(2,8),p=1;p!=a;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=r(y.index++)),i|=(c>0?1:0)*p,p<<=1;u[h++]=e(i),l=h-1,f--;break;case 1:for(i=0,a=Math.pow(2,16),p=1;p!=a;)c=y.val&y.position,y.position>>=1,0==y.position&&(y.position=o,y.val=r(y.index++)),i|=(c>0?1:0)*p,p<<=1;u[h++]=e(i),l=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,m),m++),u[l])g=u[l];else{if(l!==h)return null;g=s+s.charAt(0)}v.push(g),u[h++]=s+g.charAt(0),s=g,0==--f&&(f=Math.pow(2,m),m++)}}};return s}();null!=e&&(e.exports=t)}));function t(){for(var e=0,t=0,o=Reflect.ownKeys(sessionStorage);t<o.length;t++){var r=o[t];e+=sessionStorage.getItem(r).length}return console.log("sessionStorage used "+(e/1024).toFixed(2)+"kb"),e}function o(){for(var e=0,t=0,o=Reflect.ownKeys(localStorage);t<o.length;t++){var r=o[t];e+=localStorage.getItem(r).length}return console.log("localStorage used "+(e/1024).toFixed(2)+"kb"),e}var r=new(function(){function t(){this.compress=!1}return Object.defineProperty(t.prototype,"pressState",{get:function(){return this.compress},set:function(e){this.compress?console.warn("pressState on set once"):this.compress=e},enumerable:!0,configurable:!0}),t.prototype.getSession=function(e){if("string"!=typeof e)throw new Error("params must be string");var t=this.getItem(e);return null===t?(console.log("no exist such "+e+" sessionStorage"),null):this.getValue(t)},t.prototype.getValue=function(e){try{var t=JSON.parse(e);return t=this.checkStr(t),t=this.checkNaN(t),t=this.checkBigInt(t)}catch(t){return e}},t.prototype.getLocal=function(e){if("string"!=typeof e)throw new Error("params must be string");var t=this.getItem(e,2);return null===t?(console.log("no exist such "+e+" çš„localStorage"),null):this.getValue(t)},t.prototype.setSession=function(e,t){this.setItem(e,t)},t.prototype.setLocal=function(e,t){this.setItem(e,t,2)},t.prototype.removeSession=function(e){this.removeItem(e)},t.prototype.removeLocal=function(e){this.removeItem(e,2)},t.prototype.removeAllSession=function(){this.removeAll()},t.prototype.removeAllLocal=function(){this.removeAll(2)},t.prototype.removeAllStorage=function(){this.removeAll(3)},t.prototype.getItem=function(t,o){void 0===o&&(o=1);var r=null;return 1===o?r=sessionStorage.getItem(t):2===o&&(r=localStorage.getItem(t)),null===r||this.compress&&(r=e.decompress(r)),r},t.prototype.setItem=function(t,o,r){if(void 0===r&&(r=1),"string"!=typeof t)throw new Error("Items key params must be string");if(void 0===o)throw new Error("set value is not defind");if("symbol"==typeof o)throw new Error("value is not support symbol");"object"==typeof o?o=JSON.stringify(o):"string"==typeof o?o=JSON.stringify({str:o,isString2Object:!0}):Number.isNaN(o)?o=JSON.stringify({num:null,isNaN2Object:!0}):"bigint"==typeof o&&(o=JSON.stringify({num:String(o),isBigInt2Object:!0})),this.compress&&(o=e.compress(String(o))),1===r?sessionStorage.setItem(t,o):localStorage.setItem(t,o)},t.prototype.removeItem=function(e,t){if(void 0===t&&(t=1),"string"!=typeof e)throw new Error("Items key params must be string");1===t&&null!=sessionStorage.getItem(e)?sessionStorage.removeItem(e):2===t&&null!=localStorage.getItem(e)&&localStorage.removeItem(e)},t.prototype.removeAll=function(e){if(void 0===e&&(e=1),1===e)sessionStorage.clear();else if(2===e)localStorage.clear();else{if(3!==e)throw new Error("param error, param must be one of 1,2,3");sessionStorage.clear(),localStorage.clear()}},t.prototype.checkStr=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isString2Object")&&t.isString2Object&&(t=t.str),t},t.prototype.checkNaN=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isNaN2Object")&&(t=NaN),t},t.prototype.checkBigInt=function(e){var t=e;return"Object"===this.checkedType(t)&&Reflect.has(t,"isBigInt2Object")&&(t=BigInt(t.num)),t},t.prototype.checkedType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t}());export default r;export{o as getLocalSize,t as getSessionSize};
